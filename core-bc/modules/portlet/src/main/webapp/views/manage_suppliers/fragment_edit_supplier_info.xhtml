<?xml version="1.0" encoding="UTF-8" ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
        xmlns:bridge="http://liferay.com/faces/bridge"
        xmlns:gb="http://java.sun.com/jsf/composite/gb"
>

    <h:head />

    <h:body>

        <c:set var="supplierToEdit" value="#{manageSuppliersViewBackingBean.selectedSupplier}" scope="request" />

        <gb:box title="#{supplierToEdit.name}" collapsible="true" collapsed="false">

            <div class="msg-wrap">
                <h:messages showSummary="true" showDetail="false" />
            </div>

            <div class="field-row field-row-2">
                <div class="field-element">
                    <h:outputLabel for="supplierName" value="#{bundle['name']}:" />
                    <h:inputText id="supplierName"
                                 value="#{supplierToEdit.name}"
                                 required="true"
                                 pt:autofocus="true"
                                 requiredMessage="#{bundle['edit-supplier-error-name-required']}">
                    </h:inputText>
                </div>
                <div class="field-element">
                    <h:outputLabel for="externalServiceId" value="#{bundle['raindance-id']}:" />
                    <h:inputText id="externalServiceId"
                                 value="#{supplierToEdit.externalServiceId}"
                                 required="false">
                    </h:inputText>
                </div>
            </div>

            <div class="field-row field-row-2">
                <div class="field-element">
                    <h:outputLabel for="supplierEmailInvoice" value="#{bundle['email-invoice-related']}:" />
                    <h:inputText id="supplierEmailInvoice"
                                 value="#{supplierToEdit.emailInvoice}"
                                 required="false">
                    </h:inputText>
                </div>
                <div class="field-element">
                    <h:outputLabel for="supplierEmailInfo" value="#{bundle['email-info-related']}:" />
                    <h:inputText id="supplierEmailInfo"
                                 value="#{supplierToEdit.emailInfo}"
                                 required="false">
                    </h:inputText>
                </div>
            </div>

            <div class="field-row field-row-2">
                <div class="field-element">
                    <h:outputLabel for="supplierPhone" value="#{bundle['phone']}:" />
                    <h:inputText id="supplierPhone"
                                 value="#{supplierToEdit.phone}"
                                 required="false">
                    </h:inputText>
                </div>
                <div class="field-element field-element-checkbox inline">
                    <h:selectBooleanCheckbox id="active" value="#{supplierToEdit.active}" />
                    <h:outputLabel for="active" value="#{bundle['active']}" />
                </div>
            </div>

            <div class="field-row field-row-2">
                <div class="field-element">
                    <h:outputLabel for="supplierComment" value="#{bundle['comment']}:" />
                    <h:inputTextarea id="supplierComment"
                                 value="#{supplierToEdit.comment}"
                                 required="false">
                    </h:inputTextarea>
                </div>
                <div class="field-element">
                </div>
            </div>


            <div class="button-row">
                <h:commandLink styleClass="link-btn primary" value="#{bundle['save']}">
                    <f:ajax listener="#{manageSuppliersViewBackingBean.updateSupplierListener()}"
                            execute=":manageSuppliersForm"
                            render=":manageSuppliersForm" />
                </h:commandLink>


                <h:commandLink styleClass="link-btn primary" value="#{bundle['cancel']}">
                    <f:ajax listener="#{manageSuppliersViewBackingBean.changeViewEditSupplierListener(false)}"
                            render=":manageSuppliersForm:detailsPanel" />
                </h:commandLink>
            </div>

        </gb:box>

    </h:body>
</f:view>
