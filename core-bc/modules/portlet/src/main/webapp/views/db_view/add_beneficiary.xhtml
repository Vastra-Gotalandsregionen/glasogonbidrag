<?xml version="1.0" encoding="UTF-8" ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:bridge="http://liferay.com/faces/bridge">

    <h:head />

    <h:body>
        <h:form styleClass="form-horizontal">

            <h:messages styleClass="alert alert-error" />

            <div class="control-group">
                <h:outputLabel for="firstName" styleClass="control-label">First name</h:outputLabel>
                <div class="controls">
                    <h:inputText id="firstName" value="#{dbViewBeneficiaryBackingBean.beneficiary.firstName}" />
                </div>
            </div>
            <div class="control-group">
                <h:outputLabel for="lastName" class="control-label">Last name</h:outputLabel>
                <div class="controls">
                    <h:inputText id="lastName" value="#{dbViewBeneficiaryBackingBean.beneficiary.lastName}" />
                </div>
            </div>


            <div class="control-group">
                <h:outputLabel for="type" styleClass="control-label">Type</h:outputLabel>
                <div class="controls controls-row">
                    <h:selectOneMenu styleClass="span2" id="type" value="#{dbViewBeneficiaryBackingBean.type}">
                        <f:selectItems value="#{dbViewBeneficiaryBackingBean.identificationTypes}" />
                        <f:ajax listener="#{dbViewBeneficiaryBackingBean.identificationTypeListener}"
                                execute="@form" render="@form" />
                        <f:converter converterId="se.vgregion.IdentificationType" />
                    </h:selectOneMenu>

                    <ui:fragment rendered="#{dbViewBeneficiaryBackingBean.type == 'PERSONAL'}">
                        <h:inputText styleClass="span3" value="#{dbViewBeneficiaryBackingBean.personalIdentification.number}" />
                    </ui:fragment>
                    <ui:fragment rendered="#{dbViewBeneficiaryBackingBean.type == 'RESERVE'}">
                        <h:inputText styleClass="span3" value="#{dbViewBeneficiaryBackingBean.reserveIdentification.number}" />
                    </ui:fragment>
                    <ui:fragment rendered="#{dbViewBeneficiaryBackingBean.type == 'LMA'}">
                        <h:inputText styleClass="span3" value="#{dbViewBeneficiaryBackingBean.lmaIdentification.number}" />
                    </ui:fragment>
                </div>
            </div>

            <div class="control-group">
                <div class="controls">
                    <h:commandButton styleClass="btn btn-primary" action="#{dbViewBeneficiaryBackingBean.doSave}" value="Save" />
                    <h:commandButton styleClass="btn" action="#{dbViewBeneficiaryBackingBean.doCancel}" value="cancel" immediate="true" />
                </div>
            </div>
        </h:form>
    </h:body>
</f:view>
