<?xml version="1.0" encoding="UTF-8" ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://xmlns.jcp.org/jsf/core"
		xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
		xmlns:bridge="http://liferay.com/faces/bridge">

	<h:head />

	<h:body>
        <div class="row-fluid">
            <div class="span12">
                <h1>Database content.</h1>
            </div>
        </div>

        <h2>Suppliers</h2>
        <ui:fragment rendered="#{not empty dbViewViewBackingBean.suppliers}">
            <ul>
                <ui:repeat id="suppliers" value="#{dbViewViewBackingBean.suppliers}" var="supplier">
                    <li>
                        <h:link value="#{supplier.name}" outcome="viewSupplier">
                            <f:param name="supplierName" value="#{supplier.name}" />
                        </h:link>
                    </li>
                </ui:repeat>
            </ul>
        </ui:fragment>
        <ui:fragment rendered="#{empty dbViewViewBackingBean.suppliers}">
            <div class="alert alert-warning">
                No suppliers in the database.
            </div>
        </ui:fragment>

        <h2>Beneficiaries</h2>
        <ui:fragment rendered="#{not empty dbViewViewBackingBean.beneficiaries}">
            <ul>
                <ui:repeat id="beneficiaries" value="#{dbViewViewBackingBean.beneficiaries}" var="beneficiary">
                    <li>
                        <h:link value="#{beneficiary.firstName} #{beneficiary.lastName} (#{beneficiary.identification})" outcome="viewBeneficiary">
                            <f:param name="beneficiaryId" value="#{beneficiary.id}" />
                        </h:link>
                    </li>
                </ui:repeat>
            </ul>
        </ui:fragment>
        <ui:fragment rendered="#{empty dbViewViewBackingBean.beneficiaries}">
            <div class="alert alert-warning">
                No beneficiareies in the database.
            </div>
        </ui:fragment>

        <h2>Invoices</h2>
        <ui:fragment rendered="#{not empty dbViewViewBackingBean.invoices}">
            <ul>
                <ui:repeat id="invoices" value="#{dbViewViewBackingBean.invoices}" var="invoice">
                    <li>
                        <h:link value="#{invoice.invoiceNumber} - #{invoice.verificationNumber}" outcome="viewInvoice">
                            <f:param name="invoiceId" value="#{invoice.id}" />
                        </h:link>
                    </li>
                </ui:repeat>
            </ul>
        </ui:fragment>
        <ui:fragment rendered="#{empty dbViewViewBackingBean.invoices}">
            <div class="alert alert-warning">
                No invoices in the database.
            </div>
        </ui:fragment>

        <h:form>
            <h2>Add basic data controls:</h2>
            <div class="btn-group">
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertSupplier}" value=" supplier" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertBeneficiary1}" value="Beneficiary 1" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertBeneficiary2}" value="Beneficiary 2" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertBeneficiary3}" value="Beneficiary 3" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertBeneficiary4}" value="Beneficiary 4" />
            </div>
            <h2>Add invoice controls:</h2>
            <div class="btn-group">
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.insertInvoice}" value="Invoice" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.addGrant1}" value="Extra Grant" />
                <h:commandButton class="btn" action="#{dbViewViewBackingBean.addGrant2}" value="One more Grant" />
            </div>
        </h:form>

	</h:body>
</f:view>
