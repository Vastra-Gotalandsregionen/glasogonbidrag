<?xml version="1.0" encoding="UTF-8" ?>
<f:view xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:bridge="http://liferay.com/faces/bridge">

    <h:head />

    <h:body>
        <c:set var="supplier" value="#{viewSupplierBean.supplier}" scope="request" />
        <c:set var="invoices" value="#{viewSupplierBean.invoices}" scope="request" />

        <h1>#{supplier.name}</h1>

        <h2>Invoices</h2>
        <ui:fragment rendered="#{not empty invoices}">
            <table class="table table-bordered">
                <thead>
                <tr>
                    <th scope="col">Invoice Date</th>
                    <th scope="col">Verification Number</th>
                    <th scope="col">Invoice Number</th>
                    <th scope="col">Amount</th>
                    <th scope="col">VAT</th>
                </tr>
                </thead>
                <tbody>
                    <ui:repeat value="#{invoices}" var="invoice">
                        <td>
                            <h:outputText value="#{invoice.invoiceDate}" />
                        </td>
                        <td>
                            <h:outputText value="#{invoice.verificationNumber}" />
                        </td>
                        <td>
                            <h:outputText value="#{invoice.invoiceNumber}" />
                        </td>
                        <td>
                            <h:outputText value="#{invoice.amount/100} kr" />
                        </td>
                        <td>
                            <h:outputText value="#{invoice.vat/100} kr" />
                        </td>
                    </ui:repeat>
                </tbody>
            </table>
        </ui:fragment>
        <ui:fragment rendered="#{empty invoices}">
            <div class="alert alert-warning">
                Not a supplier for any invoices
            </div>
        </ui:fragment>

        <h:link outcome="view" value="Back"/>
    </h:body>
</f:view>
